{"ast":null,"code":"export async function client(endpoint, {\n  body,\n  ...customConfig\n} = {}) {\n  const config = {\n    method: \"GET\",\n    ...customConfig,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...customConfig.headers\n    }\n  };\n\n  try {\n    const response = await fetch(endpoint, config);\n\n    if (!response.ok) {\n      document.querySelector(\".error-image\").classList.remove(\"hide\");\n      document.querySelector(\".gallery-container.grid-container\").style.display = \"flex\";\n      document.querySelector(\".gallery-container.grid-container\").style.justifyContent = \"center\";\n      document.querySelector(\".gallery-loading-container\").style.display = \"none\";\n      throw new Error(response.statusText);\n    }\n\n    return await response.json();\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nclient.get = function (endpoint, customConfig = {}) {\n  return client(endpoint, { ...customConfig,\n    method: \"GET\"\n  });\n};\n\nexport function galleryIsLoaded() {\n  const loadingNode = document.querySelector(\".gallery-loading-container\");\n\n  if (loadingNode) {\n    loadingNode.addEventListener(\"transitionend\", () => {\n      console.log(\"After\");\n      loadingNode.style.display = \"none\";\n    });\n  }\n\n  setTimeout(() => {\n    if (loadingNode) {\n      loadingNode.classList.add(\"ghost\");\n    }\n\n    document.querySelector(\".gallery-images-wrapper\").classList.remove(\"hide\");\n    document.querySelector(\".gallery-pagination-controls--container\").classList.remove(\"hide\");\n  }, 1500);\n}\nexport function galleryNotLoaded() {\n  const loadingNode = document.querySelector(\".gallery-loading-container\");\n\n  if (loadingNode) {\n    loadingNode.style.display = \"block\";\n    loadingNode.classList.remove(\"ghost\");\n  }\n\n  document.querySelector(\".gallery-images-wrapper\").classList.add(\"hide\");\n  document.querySelector(\".gallery-pagination-controls--container\").classList.add(\"hide\");\n}\nexport function galleryFetched(images, paginateState, setGalleryState) {\n  const startImg = (paginateState.page - 1) * paginateState.size;\n  const endImg = startImg + paginateState.size;\n  const currentImages = images.slice(startImg, endImg);\n  setGalleryState({\n    images: images,\n    current: currentImages,\n    total: images.length\n  });\n\n  if (images.length > 0) {\n    galleryIsLoaded();\n  } else {\n    galleryNotLoaded();\n  }\n}","map":{"version":3,"sources":["/Users/steve/Projects/FED Intern Application/image-share-app/src/functions/galleryFunctions.js"],"names":["client","endpoint","body","customConfig","config","method","headers","response","fetch","ok","document","querySelector","classList","remove","style","display","justifyContent","Error","statusText","json","err","console","log","get","galleryIsLoaded","loadingNode","addEventListener","setTimeout","add","galleryNotLoaded","galleryFetched","images","paginateState","setGalleryState","startImg","page","size","endImg","currentImages","slice","current","total","length"],"mappings":"AAAA,OAAO,eAAeA,MAAf,CAAsBC,QAAtB,EAAgC;AAAEC,EAAAA,IAAF;AAAQ,KAAGC;AAAX,IAA4B,EAA5D,EAAgE;AACrE,QAAMC,MAAM,GAAG;AACbC,IAAAA,MAAM,EAAE,KADK;AAEb,OAAGF,YAFU;AAGbG,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,SAAGH,YAAY,CAACG;AAFT;AAHI,GAAf;;AASA,MAAI;AACF,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACP,QAAD,EAAWG,MAAX,CAA5B;;AACA,QAAI,CAACG,QAAQ,CAACE,EAAd,EAAkB;AAChBC,MAAAA,QAAQ,CAACC,aAAT,CAAuB,cAAvB,EAAuCC,SAAvC,CAAiDC,MAAjD,CAAwD,MAAxD;AACAH,MAAAA,QAAQ,CAACC,aAAT,CACE,mCADF,EAEEG,KAFF,CAEQC,OAFR,GAEkB,MAFlB;AAGAL,MAAAA,QAAQ,CAACC,aAAT,CACE,mCADF,EAEEG,KAFF,CAEQE,cAFR,GAEyB,QAFzB;AAGAN,MAAAA,QAAQ,CAACC,aAAT,CAAuB,4BAAvB,EAAqDG,KAArD,CAA2DC,OAA3D,GACE,MADF;AAEA,YAAM,IAAIE,KAAJ,CAAUV,QAAQ,CAACW,UAAnB,CAAN;AACD;;AACD,WAAO,MAAMX,QAAQ,CAACY,IAAT,EAAb;AACD,GAfD,CAeE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF;;AAEDpB,MAAM,CAACuB,GAAP,GAAa,UAAUtB,QAAV,EAAoBE,YAAY,GAAG,EAAnC,EAAuC;AAClD,SAAOH,MAAM,CAACC,QAAD,EAAW,EAAE,GAAGE,YAAL;AAAmBE,IAAAA,MAAM,EAAE;AAA3B,GAAX,CAAb;AACD,CAFD;;AAIA,OAAO,SAASmB,eAAT,GAA2B;AAChC,QAAMC,WAAW,GAAGf,QAAQ,CAACC,aAAT,CAAuB,4BAAvB,CAApB;;AACA,MAAIc,WAAJ,EAAiB;AACfA,IAAAA,WAAW,CAACC,gBAAZ,CAA6B,eAA7B,EAA8C,MAAM;AAClDL,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAG,MAAAA,WAAW,CAACX,KAAZ,CAAkBC,OAAlB,GAA4B,MAA5B;AACD,KAHD;AAID;;AACDY,EAAAA,UAAU,CAAC,MAAM;AACf,QAAIF,WAAJ,EAAiB;AACfA,MAAAA,WAAW,CAACb,SAAZ,CAAsBgB,GAAtB,CAA0B,OAA1B;AACD;;AACDlB,IAAAA,QAAQ,CAACC,aAAT,CAAuB,yBAAvB,EAAkDC,SAAlD,CAA4DC,MAA5D,CAAmE,MAAnE;AACAH,IAAAA,QAAQ,CACLC,aADH,CACiB,yCADjB,EAEGC,SAFH,CAEaC,MAFb,CAEoB,MAFpB;AAGD,GARS,EAQP,IARO,CAAV;AASD;AAED,OAAO,SAASgB,gBAAT,GAA4B;AACjC,QAAMJ,WAAW,GAAGf,QAAQ,CAACC,aAAT,CAAuB,4BAAvB,CAApB;;AAEA,MAAIc,WAAJ,EAAiB;AACfA,IAAAA,WAAW,CAACX,KAAZ,CAAkBC,OAAlB,GAA4B,OAA5B;AACAU,IAAAA,WAAW,CAACb,SAAZ,CAAsBC,MAAtB,CAA6B,OAA7B;AACD;;AACDH,EAAAA,QAAQ,CAACC,aAAT,CAAuB,yBAAvB,EAAkDC,SAAlD,CAA4DgB,GAA5D,CAAgE,MAAhE;AACAlB,EAAAA,QAAQ,CACLC,aADH,CACiB,yCADjB,EAEGC,SAFH,CAEagB,GAFb,CAEiB,MAFjB;AAGD;AAED,OAAO,SAASE,cAAT,CAAwBC,MAAxB,EAAgCC,aAAhC,EAA+CC,eAA/C,EAAgE;AACrE,QAAMC,QAAQ,GAAG,CAACF,aAAa,CAACG,IAAd,GAAqB,CAAtB,IAA2BH,aAAa,CAACI,IAA1D;AACA,QAAMC,MAAM,GAAGH,QAAQ,GAAGF,aAAa,CAACI,IAAxC;AACA,QAAME,aAAa,GAAGP,MAAM,CAACQ,KAAP,CAAaL,QAAb,EAAuBG,MAAvB,CAAtB;AAEAJ,EAAAA,eAAe,CAAC;AACdF,IAAAA,MAAM,EAAEA,MADM;AAEdS,IAAAA,OAAO,EAAEF,aAFK;AAGdG,IAAAA,KAAK,EAAEV,MAAM,CAACW;AAHA,GAAD,CAAf;;AAKA,MAAIX,MAAM,CAACW,MAAP,GAAgB,CAApB,EAAuB;AACrBlB,IAAAA,eAAe;AAChB,GAFD,MAEO;AACLK,IAAAA,gBAAgB;AACjB;AACF","sourcesContent":["export async function client(endpoint, { body, ...customConfig } = {}) {\n  const config = {\n    method: \"GET\",\n    ...customConfig,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...customConfig.headers,\n    },\n  };\n\n  try {\n    const response = await fetch(endpoint, config);\n    if (!response.ok) {\n      document.querySelector(\".error-image\").classList.remove(\"hide\");\n      document.querySelector(\n        \".gallery-container.grid-container\"\n      ).style.display = \"flex\";\n      document.querySelector(\n        \".gallery-container.grid-container\"\n      ).style.justifyContent = \"center\";\n      document.querySelector(\".gallery-loading-container\").style.display =\n        \"none\";\n      throw new Error(response.statusText);\n    }\n    return await response.json();\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nclient.get = function (endpoint, customConfig = {}) {\n  return client(endpoint, { ...customConfig, method: \"GET\" });\n};\n\nexport function galleryIsLoaded() {\n  const loadingNode = document.querySelector(\".gallery-loading-container\");\n  if (loadingNode) {\n    loadingNode.addEventListener(\"transitionend\", () => {\n      console.log(\"After\");\n      loadingNode.style.display = \"none\";\n    });\n  }\n  setTimeout(() => {\n    if (loadingNode) {\n      loadingNode.classList.add(\"ghost\");\n    }\n    document.querySelector(\".gallery-images-wrapper\").classList.remove(\"hide\");\n    document\n      .querySelector(\".gallery-pagination-controls--container\")\n      .classList.remove(\"hide\");\n  }, 1500);\n}\n\nexport function galleryNotLoaded() {\n  const loadingNode = document.querySelector(\".gallery-loading-container\");\n\n  if (loadingNode) {\n    loadingNode.style.display = \"block\";\n    loadingNode.classList.remove(\"ghost\");\n  }\n  document.querySelector(\".gallery-images-wrapper\").classList.add(\"hide\");\n  document\n    .querySelector(\".gallery-pagination-controls--container\")\n    .classList.add(\"hide\");\n}\n\nexport function galleryFetched(images, paginateState, setGalleryState) {\n  const startImg = (paginateState.page - 1) * paginateState.size;\n  const endImg = startImg + paginateState.size;\n  const currentImages = images.slice(startImg, endImg);\n\n  setGalleryState({\n    images: images,\n    current: currentImages,\n    total: images.length,\n  });\n  if (images.length > 0) {\n    galleryIsLoaded();\n  } else {\n    galleryNotLoaded();\n  }\n}\n"]},"metadata":{},"sourceType":"module"}