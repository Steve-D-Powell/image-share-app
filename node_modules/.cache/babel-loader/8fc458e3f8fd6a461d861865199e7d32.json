{"ast":null,"code":"import _regeneratorRuntime from\"/Users/steve/Projects/FED Intern Application/image-share-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/steve/Projects/FED Intern Application/image-share-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/Users/steve/Projects/FED Intern Application/image-share-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _asyncToGenerator from\"/Users/steve/Projects/FED Intern Application/image-share-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var handleError=function handleError(){document.querySelector(\".error-image\").classList.remove(\"hide\");document.querySelector(\".gallery-container.grid-container\").style.display=\"flex\";document.querySelector(\".gallery-container.grid-container\").classList.add(\"gallery-has-error\");document.querySelector(\".gallery-container.grid-container\").style.justifyContent=\"center\";document.querySelector(\".gallery-loading-container\").style.display=\"none\";};export function client(_x){return _client.apply(this,arguments);}function _client(){_client=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(endpoint){var _ref,body,customConfig,config,response,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref=_args.length>1&&_args[1]!==undefined?_args[1]:{},body=_ref.body,customConfig=_objectWithoutProperties(_ref,[\"body\"]);config=_objectSpread(_objectSpread({method:\"GET\"},customConfig),{},{headers:_objectSpread({\"Content-Type\":\"application/json\"},customConfig.headers)});_context.prev=2;_context.next=5;return fetch(endpoint,config);case 5:response=_context.sent;if(response.ok){_context.next=9;break;}handleError();throw new Error(response.statusText);case 9:_context.next=11;return response.json();case 11:return _context.abrupt(\"return\",_context.sent);case 14:_context.prev=14;_context.t0=_context[\"catch\"](2);console.log(_context.t0);handleError();case 18:case\"end\":return _context.stop();}}},_callee,null,[[2,14]]);}));return _client.apply(this,arguments);}client.get=function(endpoint){var customConfig=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return client(endpoint,_objectSpread(_objectSpread({},customConfig),{},{method:\"GET\"}));};export function galleryIsLoaded(){var loadingNode=document.querySelector(\".gallery-loading-container\");if(loadingNode){loadingNode.addEventListener(\"transitionend\",function(){loadingNode.style.display=\"none\";});}setTimeout(function(){if(loadingNode){loadingNode.classList.add(\"ghost\");}document.querySelector(\".gallery-images-wrapper\").classList.remove(\"hide\");document.querySelector(\".gallery-pagination-controls--container\").classList.remove(\"hide\");},1500);setTimeout(function(){document.querySelector(\".rocket-icon\").classList.remove(\"hidden\");},1000);}export function galleryNotLoaded(){var loadingNode=document.querySelector(\".gallery-loading-container\");if(loadingNode){loadingNode.style.display=\"block\";loadingNode.classList.remove(\"ghost\");}document.querySelector(\".gallery-images-wrapper\").classList.add(\"hide\");document.querySelector(\".gallery-pagination-controls--container\").classList.add(\"hide\");}export function galleryFetched(galleryName,images,paginateState,setGalleryState){var startImg=(paginateState.page-1)*paginateState.size;var endImg=startImg+paginateState.size;var currentImages=images.slice(startImg,endImg);setGalleryState({images:images,current:currentImages,total:images.length});if(images.length>0||galleryName===\"loved\"){galleryIsLoaded();}else{galleryNotLoaded();}}","map":{"version":3,"sources":["/Users/steve/Projects/FED Intern Application/image-share-app/src/functions/galleryFunctions.js"],"names":["handleError","document","querySelector","classList","remove","style","display","add","justifyContent","client","endpoint","body","customConfig","config","method","headers","fetch","response","ok","Error","statusText","json","console","log","get","galleryIsLoaded","loadingNode","addEventListener","setTimeout","galleryNotLoaded","galleryFetched","galleryName","images","paginateState","setGalleryState","startImg","page","size","endImg","currentImages","slice","current","total","length"],"mappings":"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","sourcesContent":["const handleError = () => {\n  document.querySelector(\".error-image\").classList.remove(\"hide\");\n  document.querySelector(\".gallery-container.grid-container\").style.display =\n    \"flex\";\n  document\n    .querySelector(\".gallery-container.grid-container\")\n    .classList.add(\"gallery-has-error\");\n  document.querySelector(\n    \".gallery-container.grid-container\"\n  ).style.justifyContent = \"center\";\n  document.querySelector(\".gallery-loading-container\").style.display = \"none\";\n};\n\nexport async function client(endpoint, { body, ...customConfig } = {}) {\n  const config = {\n    method: \"GET\",\n    ...customConfig,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...customConfig.headers,\n    },\n  };\n\n  try {\n    const response = await fetch(endpoint, config);\n    if (!response.ok) {\n      handleError();\n      throw new Error(response.statusText);\n    }\n    return await response.json();\n  } catch (err) {\n    console.log(err);\n    handleError();\n  }\n}\n\nclient.get = function (endpoint, customConfig = {}) {\n  return client(endpoint, { ...customConfig, method: \"GET\" });\n};\n\nexport function galleryIsLoaded() {\n  const loadingNode = document.querySelector(\".gallery-loading-container\");\n\n  if (loadingNode) {\n    loadingNode.addEventListener(\"transitionend\", () => {\n      loadingNode.style.display = \"none\";\n    });\n  }\n  setTimeout(() => {\n    if (loadingNode) {\n      loadingNode.classList.add(\"ghost\");\n    }\n    document.querySelector(\".gallery-images-wrapper\").classList.remove(\"hide\");\n    document\n      .querySelector(\".gallery-pagination-controls--container\")\n      .classList.remove(\"hide\");\n  }, 1500);\n  setTimeout(() => {\n    document.querySelector(\".rocket-icon\").classList.remove(\"hidden\");\n  }, 1000);\n}\n\nexport function galleryNotLoaded() {\n  const loadingNode = document.querySelector(\".gallery-loading-container\");\n\n  if (loadingNode) {\n    loadingNode.style.display = \"block\";\n    loadingNode.classList.remove(\"ghost\");\n  }\n  document.querySelector(\".gallery-images-wrapper\").classList.add(\"hide\");\n  document\n    .querySelector(\".gallery-pagination-controls--container\")\n    .classList.add(\"hide\");\n}\n\nexport function galleryFetched(\n  galleryName,\n  images,\n  paginateState,\n  setGalleryState\n) {\n  const startImg = (paginateState.page - 1) * paginateState.size;\n  const endImg = startImg + paginateState.size;\n  const currentImages = images.slice(startImg, endImg);\n\n  setGalleryState({\n    images: images,\n    current: currentImages,\n    total: images.length,\n  });\n  if (images.length > 0 || galleryName === \"loved\") {\n    galleryIsLoaded();\n  } else {\n    galleryNotLoaded();\n  }\n}\n"]},"metadata":{},"sourceType":"module"}