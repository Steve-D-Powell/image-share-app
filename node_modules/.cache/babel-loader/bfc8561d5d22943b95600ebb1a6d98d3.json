{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\n\nconst useLocalStorageState = (defaultValue, key) => {\n  _s();\n\n  const now = new Date();\n\n  const checkExpirey = obj => {\n    if (now.getTime() > obj.expirey && obj !== 0) {\n      window.localStorage.removeItem(key);\n      return defaultValue.value;\n    } else {\n      return obj.value;\n    }\n  };\n\n  const [value, setValue] = useState(() => {\n    const stickyValue = window.localStorage.getItem(key);\n    return stickyValue !== null ? checkExpirey(JSON.parse(stickyValue)) : defaultValue.value;\n  });\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(value));\n  }, [key, value]);\n  return [value, setValue];\n};\n\n_s(useLocalStorageState, \"aSwqIJsxGPn3Vsq54R1bDUE99Ps=\");\n\nexport default useLocalStorageState;","map":{"version":3,"sources":["/Users/steve/Projects/FED Intern Application/image-share-app/src/hooks/localStorageState.js"],"names":["useState","useEffect","useLocalStorageState","defaultValue","key","now","Date","checkExpirey","obj","getTime","expirey","window","localStorage","removeItem","value","setValue","stickyValue","getItem","JSON","parse","setItem","stringify"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAEA,MAAMC,oBAAoB,GAAG,CAACC,YAAD,EAAeC,GAAf,KAAuB;AAAA;;AAClD,QAAMC,GAAG,GAAG,IAAIC,IAAJ,EAAZ;;AAEA,QAAMC,YAAY,GAAIC,GAAD,IAAS;AAC5B,QAAIH,GAAG,CAACI,OAAJ,KAAgBD,GAAG,CAACE,OAApB,IAA+BF,GAAG,KAAK,CAA3C,EAA8C;AAC5CG,MAAAA,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+BT,GAA/B;AACA,aAAOD,YAAY,CAACW,KAApB;AACD,KAHD,MAGO;AACL,aAAON,GAAG,CAACM,KAAX;AACD;AACF,GAPD;;AASA,QAAM,CAACA,KAAD,EAAQC,QAAR,IAAoBf,QAAQ,CAAC,MAAM;AACvC,UAAMgB,WAAW,GAAGL,MAAM,CAACC,YAAP,CAAoBK,OAApB,CAA4Bb,GAA5B,CAApB;AACA,WAAOY,WAAW,KAAK,IAAhB,GACHT,YAAY,CAACW,IAAI,CAACC,KAAL,CAAWH,WAAX,CAAD,CADT,GAEHb,YAAY,CAACW,KAFjB;AAGD,GALiC,CAAlC;AAOAb,EAAAA,SAAS,CAAC,MAAM;AACdU,IAAAA,MAAM,CAACC,YAAP,CAAoBQ,OAApB,CAA4BhB,GAA5B,EAAiCc,IAAI,CAACG,SAAL,CAAeP,KAAf,CAAjC;AACD,GAFQ,EAEN,CAACV,GAAD,EAAMU,KAAN,CAFM,CAAT;AAGA,SAAO,CAACA,KAAD,EAAQC,QAAR,CAAP;AACD,CAvBD;;GAAMb,oB;;AAyBN,eAAeA,oBAAf","sourcesContent":["import { useState, useEffect } from \"react\";\n\nconst useLocalStorageState = (defaultValue, key) => {\n  const now = new Date();\n\n  const checkExpirey = (obj) => {\n    if (now.getTime() > obj.expirey && obj !== 0) {\n      window.localStorage.removeItem(key);\n      return defaultValue.value;\n    } else {\n      return obj.value;\n    }\n  };\n\n  const [value, setValue] = useState(() => {\n    const stickyValue = window.localStorage.getItem(key);\n    return stickyValue !== null\n      ? checkExpirey(JSON.parse(stickyValue))\n      : defaultValue.value;\n  });\n\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(value));\n  }, [key, value]);\n  return [value, setValue];\n};\n\nexport default useLocalStorageState;\n"]},"metadata":{},"sourceType":"module"}