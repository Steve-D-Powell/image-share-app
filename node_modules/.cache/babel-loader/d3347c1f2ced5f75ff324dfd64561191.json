{"ast":null,"code":"const handleError = () => {\n  document.querySelector(\".error-image\").classList.remove(\"hide\");\n  document.querySelector(\".gallery-container.grid-container\").style.display = \"flex\";\n  document.querySelector(\".gallery-container.grid-container\").classList.add(\"gallery-has-error\");\n  document.querySelector(\".gallery-container.grid-container\").style.justifyContent = \"center\";\n  document.querySelector(\".gallery-loading-container\").style.display = \"none\";\n};\n\nexport async function client(endpoint, {\n  body,\n  ...customConfig\n} = {}) {\n  const config = {\n    method: \"GET\",\n    ...customConfig,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...customConfig.headers\n    }\n  };\n\n  try {\n    const response = await fetch(endpoint, config);\n\n    if (!response.ok) {\n      handleError();\n      throw new Error(response.statusText);\n    }\n\n    return await response.json();\n  } catch (err) {\n    console.log(err);\n    handleError();\n  }\n}\n\nclient.get = function (endpoint, customConfig = {}) {\n  return client(endpoint, { ...customConfig,\n    method: \"GET\"\n  });\n};\n\nexport function galleryIsLoaded() {\n  const loadingNode = document.querySelector(\".gallery-loading-container\");\n\n  if (loadingNode) {\n    loadingNode.addEventListener(\"transitionend\", () => {\n      console.log(\"After\");\n      loadingNode.style.display = \"none\";\n    });\n  }\n\n  setTimeout(() => {\n    if (loadingNode) {\n      loadingNode.classList.add(\"ghost\");\n    }\n\n    document.querySelector(\".gallery-images-wrapper\").classList.remove(\"hide\");\n    document.querySelector(\".gallery-pagination-controls--container\").classList.remove(\"hide\");\n  }, 1500);\n}\nexport function galleryNotLoaded() {\n  const loadingNode = document.querySelector(\".gallery-loading-container\");\n  const navLinks = Array.from(document.querySelectorAll(\"navigation-links\"));\n\n  if (loadingNode) {\n    loadingNode.style.display = \"block\";\n    loadingNode.classList.remove(\"ghost\");\n  }\n\n  document.querySelector(\".gallery-images-wrapper\").classList.add(\"hide\");\n  document.querySelector(\".gallery-pagination-controls--container\").classList.add(\"hide\");\n\n  for (const link of navLinks) {\n    link.addEventListener(\"click\", event => {\n      event.preventDefault();\n    });\n  }\n}\nexport function galleryFetched(images, paginateState, setGalleryState) {\n  const startImg = (paginateState.page - 1) * paginateState.size;\n  const endImg = startImg + paginateState.size;\n  const currentImages = images.slice(startImg, endImg);\n  setGalleryState({\n    images: images,\n    current: currentImages,\n    total: images.length\n  });\n\n  if (images.length > 0) {\n    galleryIsLoaded();\n  } else {\n    galleryNotLoaded();\n  }\n}","map":{"version":3,"sources":["/Users/steve/Projects/FED Intern Application/image-share-app/src/functions/galleryFunctions.js"],"names":["handleError","document","querySelector","classList","remove","style","display","add","justifyContent","client","endpoint","body","customConfig","config","method","headers","response","fetch","ok","Error","statusText","json","err","console","log","get","galleryIsLoaded","loadingNode","addEventListener","setTimeout","galleryNotLoaded","navLinks","Array","from","querySelectorAll","link","event","preventDefault","galleryFetched","images","paginateState","setGalleryState","startImg","page","size","endImg","currentImages","slice","current","total","length"],"mappings":"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","sourcesContent":["const handleError = () => {\n  document.querySelector(\".error-image\").classList.remove(\"hide\");\n  document.querySelector(\".gallery-container.grid-container\").style.display =\n    \"flex\";\n  document\n    .querySelector(\".gallery-container.grid-container\")\n    .classList.add(\"gallery-has-error\");\n  document.querySelector(\n    \".gallery-container.grid-container\"\n  ).style.justifyContent = \"center\";\n  document.querySelector(\".gallery-loading-container\").style.display = \"none\";\n};\n\nexport async function client(endpoint, { body, ...customConfig } = {}) {\n  const config = {\n    method: \"GET\",\n    ...customConfig,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...customConfig.headers,\n    },\n  };\n\n  try {\n    const response = await fetch(endpoint, config);\n    if (!response.ok) {\n      handleError();\n      throw new Error(response.statusText);\n    }\n    return await response.json();\n  } catch (err) {\n    console.log(err);\n    handleError();\n  }\n}\n\nclient.get = function (endpoint, customConfig = {}) {\n  return client(endpoint, { ...customConfig, method: \"GET\" });\n};\n\nexport function galleryIsLoaded() {\n  const loadingNode = document.querySelector(\".gallery-loading-container\");\n  if (loadingNode) {\n    loadingNode.addEventListener(\"transitionend\", () => {\n      console.log(\"After\");\n      loadingNode.style.display = \"none\";\n    });\n  }\n  setTimeout(() => {\n    if (loadingNode) {\n      loadingNode.classList.add(\"ghost\");\n    }\n    document.querySelector(\".gallery-images-wrapper\").classList.remove(\"hide\");\n    document\n      .querySelector(\".gallery-pagination-controls--container\")\n      .classList.remove(\"hide\");\n  }, 1500);\n}\n\nexport function galleryNotLoaded() {\n  const loadingNode = document.querySelector(\".gallery-loading-container\");\n  const navLinks = Array.from(document.querySelectorAll(\"navigation-links\"));\n\n  if (loadingNode) {\n    loadingNode.style.display = \"block\";\n    loadingNode.classList.remove(\"ghost\");\n  }\n  document.querySelector(\".gallery-images-wrapper\").classList.add(\"hide\");\n  document\n    .querySelector(\".gallery-pagination-controls--container\")\n    .classList.add(\"hide\");\n\n  for (const link of navLinks) {\n    link.addEventListener(\"click\", (event) => {\n      event.preventDefault();\n    });\n  }\n}\n\nexport function galleryFetched(images, paginateState, setGalleryState) {\n  const startImg = (paginateState.page - 1) * paginateState.size;\n  const endImg = startImg + paginateState.size;\n  const currentImages = images.slice(startImg, endImg);\n\n  setGalleryState({\n    images: images,\n    current: currentImages,\n    total: images.length,\n  });\n  if (images.length > 0) {\n    galleryIsLoaded();\n  } else {\n    galleryNotLoaded();\n  }\n}\n"]},"metadata":{},"sourceType":"module"}